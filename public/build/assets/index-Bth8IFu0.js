import{r as t,m as C,j as e,L as w}from"./app-BdSiAjyP.js";import{D as E}from"./delete-confirmation-form-CS9VunXp.js";import{L as I,a as L,I as k}from"./input-error-Chbo7qiN.js";import{B as n}from"./leaf-DbhNcTOD.js";import{C as G}from"./card-CNemksZq.js";import{D as B,a as H,b as O,c as A,d as F}from"./dialog-D69mpTRf.js";import{T as M,a as R,b as m,c as p,d as q,e as i}from"./table-Cz7nZQvw.js";import{A as P}from"./app-layout-DfYskyfE.js";import{S as $}from"./square-pen-BDHHgQFt.js";import{L as z}from"./loader-circle-BLYiJTqK.js";import"./index-BWqvCfnA.js";import"./index-Da7dyP6f.js";import"./Combination-D340P4z7.js";import"./index-CdHozyMW.js";import"./toast-CmT7txdK.js";import"./index-A8wZ14uY.js";function ie({gejala:o,breadcrumb:c,titlePage:j}){const h=t.useMemo(()=>c?c.map(a=>({title:a.title,href:a.href})):[],[c]),{data:f,setData:l,post:g,put:N,processing:x,errors:b}=C({id:null,nama:""}),[d,u]=t.useState(null),D=a=>{a.preventDefault(),d==null?g(route("admin.gejala.store"),{preserveState:!0,onSuccess:()=>{l({id:null,nama:""}),r(!1)},onError:s=>{console.error(s)}}):N(route("admin.gejala.update",{gejala:d}),{preserveState:!0,onSuccess:()=>{l({id:null,nama:""}),u(null),r(!1)},onError:s=>{console.error(s)}})},[v,r]=t.useState(!1),y=a=>{if(a){const s=o.filter(T=>T.id===a,[]);u(s[0].id),s&&l({id:s[0].id,nama:s[0].nama}),r(!0)}},[J,S]=t.useState(!1);return e.jsxs(P,{breadcrumbs:h,children:[e.jsx(w,{title:j??"Gejala"}),e.jsx(G,{children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Gejala Nutrisi Tanaman"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:e.jsx(n,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>r(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(M,{className:"min-w-full",children:[e.jsx(R,{children:e.jsxs(m,{children:[e.jsx(p,{className:"cursor-pointer",children:"no"}),e.jsx(p,{className:"cursor-pointer",children:"Nama"}),e.jsx(p,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(q,{children:o.length>0?o.map((a,s)=>e.jsxs(m,{children:[e.jsx(i,{children:s+1}),e.jsx(i,{children:a.nama}),e.jsx(i,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs(n,{type:"button",variant:"default",tooltip:"edit",onClick:()=>y(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx($,{})," "]}),e.jsx(E,{title:`Hapus gejala ${a.id}`,id:a.id,url:route("admin.gejala.destroy",{gejala:a.id}),setOpenDialog:S})]})})]},a.id)):e.jsx(m,{children:e.jsx(i,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(B,{open:v,onOpenChange:r,children:e.jsxs(H,{children:[e.jsx(O,{children:e.jsxs(A,{children:[d?"Edit":"Tambah"," Gejala"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:D,children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Gejala"}),e.jsx(L,{type:"text",value:f.nama,onChange:a=>l("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:x,placeholder:"Masukkan nama gejala"}),e.jsx(k,{message:b.nama,className:"mt-2"})]})}),e.jsxs(F,{children:[e.jsx(n,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Batal"}),e.jsxs(n,{type:"submit",children:[x&&e.jsx(z,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{ie as default};
