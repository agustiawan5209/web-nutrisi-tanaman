import{r as d,m as E,j as e,L as I}from"./app-BdSiAjyP.js";import{D as O}from"./delete-confirmation-form-CS9VunXp.js";import{L as b,a as g,I as N}from"./input-error-Chbo7qiN.js";import{B as o}from"./leaf-DbhNcTOD.js";import{C as B}from"./card-CNemksZq.js";import{D as F,a as H,b as A,c as M,d as R}from"./dialog-D69mpTRf.js";import{T as q,a as K,b as u,c as m,d as P,e as t}from"./table-Cz7nZQvw.js";import{A as $}from"./app-layout-DfYskyfE.js";import{S as z}from"./square-pen-BDHHgQFt.js";import{L as G}from"./loader-circle-BLYiJTqK.js";import"./index-BWqvCfnA.js";import"./index-Da7dyP6f.js";import"./Combination-D340P4z7.js";import"./index-CdHozyMW.js";import"./toast-CmT7txdK.js";import"./index-A8wZ14uY.js";function oe({label:n,breadcrumb:p,titlePage:k,can:s}){const v=d.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]),{data:h,setData:i,post:D,put:y,processing:x,errors:j}=E({id:null,nama:"",deskripsi:""}),[c,f]=d.useState(null),C=a=>{a.preventDefault(),c==null?D(route("admin.label.store"),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),l(!1)},onError:r=>{console.error(r)}}):y(route("admin.label.update",{label:c}),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),f(null),l(!1)},onError:r=>{console.error(r)}})},[L,l]=d.useState(!1),S=a=>{if(a){const r=n.filter(w=>w.id===a,[]);f(r[0].id),r&&i({id:r[0].id,nama:r[0].nama,deskripsi:r[0].deskripsi}),l(!0)}},[J,T]=d.useState(!1);return e.jsxs($,{breadcrumbs:v,children:[e.jsx(I,{title:k??"Label"}),e.jsx(B,{children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Label Nutrisi Tanaman"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(s==null?void 0:s.add)&&e.jsx(o,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>l(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(q,{className:"min-w-full",children:[e.jsx(K,{children:e.jsxs(u,{children:[e.jsx(m,{className:"cursor-pointer",children:"no"}),e.jsx(m,{className:"cursor-pointer",children:"Nama"}),e.jsx(m,{className:"cursor-pointer",children:"deskripsi"}),((s==null?void 0:s.delete)||(s==null?void 0:s.edit))&&e.jsx(m,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(P,{children:n.length>0?n.map((a,r)=>e.jsxs(u,{children:[e.jsx(t,{children:r+1}),e.jsx(t,{children:a.nama}),e.jsx(t,{children:a.deskripsi}),((s==null?void 0:s.edit)||(s==null?void 0:s.delete))&&e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(s==null?void 0:s.edit)&&e.jsxs(o,{type:"button",variant:"default",tooltip:"edit",onClick:()=>S(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(z,{})," "]}),(s==null?void 0:s.delete)&&e.jsx(O,{title:`Hapus label ${a.id}`,id:a.id,url:route("admin.label.destroy",{label:a.id}),setOpenDialog:T})]})})]},a.id)):e.jsx(u,{children:e.jsx(t,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(F,{open:L,onOpenChange:l,children:e.jsxs(H,{children:[e.jsx(A,{children:e.jsxs(M,{children:[c?"Edit":"Tambah"," Label"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:C,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Label"}),e.jsx(g,{type:"text",value:h.nama,onChange:a=>i("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:x,readOnly:(s==null?void 0:s.add)&&s.delete,placeholder:"Masukkan nama label"}),e.jsx(N,{message:j.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(g,{type:"text",value:h.deskripsi,onChange:a=>i("deskripsi",a.target.value),id:"deskripsi",name:"deskripsi",className:"input",disabled:x,placeholder:"Masukkan deskripsi label"}),e.jsx(N,{message:j.deskripsi,className:"mt-2"})]})]}),e.jsxs(R,{children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>l(!1),children:"Batal"}),e.jsxs(o,{type:"submit",children:[x&&e.jsx(G,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{oe as default};
