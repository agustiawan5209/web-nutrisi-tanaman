import{m as V,j as a,L as q}from"./app-BdSiAjyP.js";import{L as n,I as D,a as T}from"./input-error-Chbo7qiN.js";import{B as $}from"./leaf-DbhNcTOD.js";import{S as u,a as d,b as h,c as x,d as p}from"./select-DcjTyB4S.js";import{A as E}from"./app-layout-DfYskyfE.js";import{L as P}from"./loader-circle-BLYiJTqK.js";import"./index-BWqvCfnA.js";import"./index-Da7dyP6f.js";import"./toast-CmT7txdK.js";import"./index-A8wZ14uY.js";import"./Combination-D340P4z7.js";import"./index-DdAhsHyQ.js";import"./index-CdHozyMW.js";function W({breadcrumb:j,kriteria:l,jenisTanaman:N,titlePage:v,opsiLabel:k,opsiGejala:y}){const L=j?j.map(e=>({title:e.title,href:e.href})):[],{data:i,setData:m,post:S,processing:C,errors:b}=V({jenis_tanaman:"",label:"",attribut:l.map((e,t)=>({kriteria_id:l[t].id,nilai:null}))});console.log(i.attribut);const _=e=>{const{name:t,value:s}=e.target,r=t.split(".")[1];if(/^\d*\.?\d*$/.test(s)){const c=Number(s);isNaN(c)||m(g=>({...g,attribut:g.attribut.map((f,I)=>I===Number(r)?{...f,nilai:s}:f)}))}},o=(e,t)=>{e&&t!==void 0&&i&&i.attribut?m(e==="label"||e==="jenis_tanaman"?s=>({...s,[e]:t}):s=>({...s,attribut:s.attribut.map((r,c)=>c===Number(e)?{...r,nilai:t}:r)})):console.error("Invalid data: name, value, or attribut may be undefined")},w=e=>{e.preventDefault(),S(route("admin.dataset.store"),{onError:t=>{console.log(t)}})};return a.jsxs(E,{breadcrumbs:L,children:[a.jsx(q,{title:v??"Input Data Nutrisi Tanaman"}),a.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[a.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Data Nutrisi Tanaman"}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:a.jsxs("div",{children:[a.jsx(n,{className:"text-xs text-gray-600",children:"Jenis Tanaman"}),a.jsxs(u,{value:i.jenis_tanaman,required:!0,onValueChange:e=>o("jenis_tanaman",e),children:[a.jsx(d,{className:"input-minimal",children:a.jsx(h,{placeholder:"Pilih"})}),a.jsx(x,{children:N.map((e,t)=>a.jsx(p,{value:e.nama,children:e.nama},t))})]}),b.jenis_tanaman&&a.jsx(D,{message:b.jenis_tanaman,className:"mt-2"})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:l.map((e,t)=>e.nama.toLowerCase()==="gejala"?a.jsxs("div",{children:[a.jsx(n,{className:"text-xs text-gray-600",children:e.nama}),a.jsxs(u,{value:i.attribut[t].nilai||"",required:!0,onValueChange:s=>o(t.toLocaleString(),s),children:[a.jsx(d,{className:"input-minimal",children:a.jsx(h,{placeholder:"Pilih"})}),a.jsx(x,{children:y.map((s,r)=>a.jsx(p,{value:s.nama,children:s.nama},r))})]})]},t):e.nama.toLowerCase().includes("ph")?a.jsxs("div",{children:[a.jsx(n,{htmlFor:`attribut.${t}`,className:"text-xs text-gray-600",children:e.nama}),a.jsxs(u,{value:i.attribut[t].nilai||"",required:!0,onValueChange:s=>o(t.toLocaleString(),s),children:[a.jsx(d,{className:"input-minimal",children:a.jsx(h,{placeholder:"Pilih"})}),a.jsx(x,{children:["0","1","2","3","4","5","6","7","8"].map((s,r)=>a.jsx(p,{value:s,children:s},r))})]})]},t):a.jsxs("div",{children:[a.jsx(n,{className:"text-xs text-gray-600",children:e.nama}),a.jsx(T,{type:"text",name:`attribut.${t}`,value:i.attribut[t].nilai||"",onChange:_,className:"input-minimal",placeholder:`masukkan ${e.nama}`,required:!0})]},t))}),a.jsx("div",{className:"flex justify-end",children:a.jsxs($,{type:"submit",variant:"default",children:[C&&a.jsx(P,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{W as default};
